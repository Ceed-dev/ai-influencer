# アルゴリズム精度分析 --- 仮説的中率予測・成長曲線・改善戦略

> **作成日**: 2026-02-16
>
> **対象**: v5.0仮説駆動サイクルにおけるアルゴリズム精度の予測・改善分析
>
> **前提**: [04-agent-design.md](04-agent-design.md)の仮説駆動サイクル設計、[03-database-schema.md](03-database-schema.md)のhypotheses/learningsテーブル設計に基づく
>
> **関連ドキュメント**:
> - [07-kpi-analysis.md](07-kpi-analysis.md) --- KPI達成可能性分析 v3
> - [ALGORITHM-CONTENT-VOLUME-ANALYSIS.md](../ALGORITHM-CONTENT-VOLUME-ANALYSIS.md) --- アルゴリズムとコンテンツ量の関係性分析
> - [02-architecture.md](02-architecture.md) --- v5.0システムアーキテクチャ

## 目次

- [1. エグゼクティブサマリー](#1-エグゼクティブサマリー)
- [2. アルゴリズム精度の定義](#2-アルゴリズム精度の定義)
- [3. 月別精度予測](#3-月別精度予測)
- [4. 精度向上のメカニズム](#4-精度向上のメカニズム)
- [5. 品質スコアの進化](#5-品質スコアの進化)
- [6. pgvectorの貢献](#6-pgvectorの貢献)
- [7. アルゴリズム精度が不十分な場合の対策](#7-アルゴリズム精度が不十分な場合の対策)
- [8. アカウント数・投稿数の十分性分析](#8-アカウント数投稿数の十分性分析)
- [9. 成長曲線のシミュレーション](#9-成長曲線のシミュレーション)
- [10. リスクと限界](#10-リスクと限界)
- [11. 結論](#11-結論)


## 1. エグゼクティブサマリー

v5.0の核心は**仮説駆動サイクル**である。エージェントが立てた仮説がどの程度「的中」するかが、システム全体のパフォーマンスを決定する。本レポートでは、このアルゴリズムの精度を12ヶ月にわたって予測し、精度向上のメカニズムと改善戦略を分析する。

### 主要な予測

| 指標 | 3ヶ月後 | 6ヶ月後 | 12ヶ月後 |
|---|---|---|---|
| 仮説的中率 | 15〜25% | 40〜55% | 55〜70% |
| 予測誤差 | 60〜80% | 25〜40% | 15〜25% |
| 蓄積知見数 | 5〜10 | 100〜200 | 500+ |
| コンテンツ品質改善率 | 基準値 | +20〜40% | +50〜100% |

### 核心的なインサイト

1. **初期は「ランダム」に近い**: 最初の2〜3サイクルは的中率15〜25%程度。データが少なく、仮説の根拠が弱い
2. **3〜4ヶ月で「パターン認識」が始まる**: 40〜80の仮説データにより、ニッチ固有のパターンが浮上する
3. **6ヶ月以降は「複利効果」**: 蓄積知見が相互参照され、精度向上速度が加速する
4. **天井は65〜70%**: ソーシャルメディアの不確実性（アルゴリズム変更、トレンド変動）により、100%には到達しない
5. **pgvectorによるクロスニッチ学習が鍵**: ニッチAでの知見がニッチBに転用されることで、学習速度が2〜3倍になる


## 2. アルゴリズム精度の定義

### 2.1 主要指標の定義

v5.0の「アルゴリズム精度」を以下の4指標で定義する。

#### 仮説的中率 (Hypothesis Accuracy)

```
仮説的中率 = confirmed / (confirmed + rejected)
                     ※ inconclusiveは除外
```

- `confirmed`: 仮説で予測したKPI値を実績が上回った（または許容誤差内に収まった）
- `rejected`: 仮説で予測したKPI値を実績が大幅に下回った
- `inconclusive`: データ不足、外部要因、測定期間不足等でまだ判定できない

**例**: 仮説「美容ニッチのBefore/After形式は完視聴率75%以上を達成する」
- 実績: 完視聴率78% → **confirmed**
- 実績: 完視聴率52% → **rejected**
- 実績: 投稿後2日でまだデータ不十分 → **inconclusive**

#### 予測誤差 (Prediction Error)

```
予測誤差 = average( |predicted_kpi - actual_kpi| / actual_kpi )
                    全confirmed/rejected仮説で計算
```

- 仮説ごとに「予測したKPI値」と「実際のKPI値」の乖離率を計算
- 全仮説の平均乖離率
- 低いほど良い（精度が高い）

**例**: 仮説「このフック形式で3秒離脱率35%以下」
- 予測: 35%、実績: 32% → 誤差 = |35-32|/32 = 9.4%
- 予測: 35%、実績: 58% → 誤差 = |35-58|/58 = 39.7%

#### 学習蓄積速度 (Learning Accumulation Rate)

```
学習蓄積速度 = 新規知見数 / サイクル数（1サイクルあたりの新規知見）
```

- 各サイクルで何件の再利用可能な知見が生成されるか
- 初期はサイクルあたり1〜3件、成熟期は5〜10件を目標とする

#### 改善率 (Improvement Rate)

```
改善率 = (今月の仮説的中率 - 先月の仮説的中率) / 先月の仮説的中率
```

- 月次で的中率がどれだけ改善したか
- 初期は大幅な改善（+30〜50%/月）、成熟期は逓減（+5〜10%/月）

### 2.2 指標間の関係

```
┌──────────────────────────────────────────────────────────┐
│                                                          │
│  仮説的中率 ←─── 蓄積知見数 ←─── 学習蓄積速度            │
│       │              ↑                                   │
│       │              │                                   │
│       └──────→ 改善率 ←── 予測誤差の低下                  │
│                      │                                   │
│                      └──→ コンテンツ品質向上               │
│                           └──→ エンゲージメント向上        │
│                                └──→ インプレッション増加    │
│                                     └──→ KPI達成           │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 2.3 データベースでの追跡

`hypotheses`テーブルの主要カラムと精度計算の関係:

| カラム | 型 | 精度指標との関係 |
|---|---|---|
| `status` | enum('active','confirmed','rejected','inconclusive') | 的中率の分母・分子 |
| `predicted_kpi` | jsonb | 予測誤差の計算元 |
| `actual_kpi` | jsonb | 予測誤差の計算元 |
| `confidence` | float(0.0〜1.0) | エージェントの事前確信度 |
| `category` | text | カテゴリ別精度分析 |
| `created_at` / `confirmed_at` | timestamp | 時系列分析 |

`learnings`テーブルの主要カラムと蓄積指標の関係:

| カラム | 型 | 蓄積指標との関係 |
|---|---|---|
| `learning_type` | enum('insight','pattern','anti-pattern','rule') | 知見の分類 |
| `applicability` | text[] | 適用可能なニッチ・プラットフォーム |
| `confidence_score` | float | 知見の信頼度（再現性） |
| `usage_count` | integer | 知見が参照された回数 |
| `embedding` | vector(1536) | pgvectorでの類似検索用 |


## 3. 月別精度予測

### 3.1 予測テーブル

v5.0の開発スケジュール（Phase 1〜5）と連動した月別精度予測:

| 月 | Phase | サイクル数 | 仮説数(累計) | 的中率(予測) | 予測誤差 | 蓄積知見数 | 備考 |
|---|---|---|---|---|---|---|---|
| 3月 (Phase 2完了) | 初期テスト | 2〜4 | 10〜20 | 15〜25% | 60〜80% | 5〜10 | DB稼働開始。初期データ収集期 |
| 4月 (Phase 3) | 学習開始 | 8〜12 | 40〜80 | 25〜35% | 40〜60% | 20〜40 | LangGraphエージェント初稼働。パターン認識が始まる |
| 5月 (Phase 4) | 自律運用 | 15〜20 | 100〜200 | 35〜45% | 30〜50% | 50〜100 | 全エージェント稼働。仮説の質が向上 |
| 6月 (Phase 5) | 最適化 | 20〜30 | 200〜400 | 40〜55% | 25〜40% | 100〜200 | ダッシュボード + 人間介入。クロスニッチ学習 |
| 9月 | 成長期 | 40〜60 | 500〜800 | 50〜60% | 20〜30% | 300〜400 | パターンの安定化。予測精度が実用レベルに |
| 12月 | 成熟期 | 50〜100 | 1,000+ | 55〜70% | 15〜25% | 500+ | 限界効用逓減。エッジケースへの対応 |

### 3.2 サイクル数の根拠

各フェーズでのサイクル実行頻度:

| Phase | サイクル頻度 | 1サイクルの期間 | 月間サイクル数 |
|---|---|---|---|
| Phase 2 (3月) | 手動トリガー | 5〜7日 | 2〜4 |
| Phase 3 (4月) | 半自動 | 3〜5日 | 4〜6 |
| Phase 4 (5月) | 全自動（日次） | 1〜2日 | 8〜10 |
| Phase 5 (6月) | 全自動（日次＋高速） | 1日 | 10〜15 |
| 成熟期 (9〜12月) | 全自動 | 1日 | 10〜15 |

### 3.3 的中率15〜25%（初期）の意味

「ランダムに仮説を立てても的中率は0%ではない」理由:

1. **エージェントは一般知識を持つ**: Claude Sonnet 4.5はソーシャルメディアマーケティングの一般的な知識を持つ。最初の仮説は「一般論の適用」であり、ゼロからの推測ではない
2. **リサーチャーの市場調査**: リサーチャーエージェントがWebSearchで収集した最新のトレンド・競合情報が仮説の根拠になる
3. **15〜25%は「教育を受けた推測」**: 完全なランダム（コイン投げ = 50%、ただし仮説はバイナリではないため50%にはならない）ではなく、ドメイン知識に基づく初期推測

### 3.4 的中率の天井が65〜70%である理由

ソーシャルメディアには制御不能な変数が多く、100%の予測は原理的に不可能:

| 制御不能な変数 | 影響 |
|---|---|
| プラットフォームのアルゴリズム変更 | 突然の配信ロジック変更でパフォーマンスが急変 |
| トレンドの急変 | 昨日バズったフォーマットが今日は飽きられる |
| 競合の動き | 同ニッチの競合が同時に同じ戦略を採用 |
| 外部イベント | ニュース、季節、社会的イベントが視聴行動に影響 |
| プラットフォームの初期テストプールの偶然性 | 同じコンテンツでも最初にどのユーザーに表示されるかで結果が変わる |


## 4. 精度向上のメカニズム

### 4.1 フェーズ別の学習メカニズム

#### Phase A: ランダムベースライン（1〜2ヶ月目）

```
仮説: 一般的なSNSマーケティング知識 + リサーチャーの最新データ
         ↓
結果: 15〜25%が的中（的中の理由が不明確）
         ↓
学習: 「的中した仮説」と「失敗した仮説」の差分から、ニッチ固有の特性を抽出
         ↓
知見: 「このニッチでは〇〇が重要らしい」（低確信度）
```

このフェーズの特徴:
- データポイントが少なく、ノイズが多い
- 的中しても「たまたま」の可能性が高い
- 学習は「何が効かないか」を知ることに集中

#### Phase B: パターン認識（3〜4ヶ月目）

```
仮説: 蓄積知見（20〜40件）+ ニッチ固有パターン + リサーチデータ
         ↓
結果: 25〜35%が的中（パターンに基づく仮説の的中率が向上）
         ↓
学習: パターンの確信度が上昇。「このニッチの視聴者は〇〇を好む」が明確に
         ↓
知見: 具体的なアクション可能な知見（「フック3秒以内に質問形式 = 離脱率-30%」）
```

このフェーズの特徴:
- ニッチ別のパターンが浮上する
- 「効くこと」と「効かないこと」の区別が明確になる
- 仮説の粒度が細かくなる（「美容ニッチでは...」→「美容ニッチの20代女性向けでは...」）

#### Phase C: 最適化（5〜6ヶ月目）

```
仮説: 高確信度の蓄積知見 + クロスニッチの類似パターン + 時系列トレンド
         ↓
結果: 35〜55%が的中（複合仮説の的中率が向上）
         ↓
学習: 知見の相互関係を発見。「Aが成立するときBも成立する」
         ↓
知見: 複合的な戦略（「美容ニッチ + Before/After + 15秒 + 朝7時投稿 = 最適」）
```

このフェーズの特徴:
- 単一変数の仮説から、複合変数の仮説に進化
- pgvectorによるクロスニッチ学習が本格化
- コンテンツ品質が目に見えて向上

#### Phase D: 成熟（7ヶ月目以降）

```
仮説: 精緻な予測モデル + 外部変数の組み込み + 長期トレンド分析
         ↓
結果: 55〜70%が的中（限界効用逓減が始まる）
         ↓
学習: エッジケースへの対応、アルゴリズム変更の早期検知
         ↓
知見: 防御的知見（「このパターンが変化したらアルゴリズム変更の兆候」）
```

このフェーズの特徴:
- 改善率が逓減する（月+2〜5%程度）
- 「攻め」の学習から「守り」の学習にシフト
- 主な改善はエッジケース（異常値、外れ値）への対応

### 4.2 学習の複利効果

```
知見の蓄積と仮説精度の関係:

的中率(%)
  70 |                                           ────────── ← 天井
     |                                      ───/
  60 |                                  ───/
     |                             ────/
  50 |                         ───/
     |                    ────/
  40 |                ───/
     |            ───/
  30 |        ───/
     |    ───/
  20 | ──/
     |/
  10 |
     |
   0 +───────┬───────┬───────┬───────┬───────┬───────
     0       50      100     200     400     800     知見数

  ↑ S字曲線: 最初は緩やか → 中間で急上昇 → 天井で飽和
```

この曲線がS字になる理由:
- **初期（0〜50知見）**: 個々の知見はバラバラで、組み合わせが少ない
- **中間（50〜200知見）**: 知見同士の相互参照が始まり、「知見の知見」が生まれる → 急上昇
- **後期（200知見以上）**: 新規知見の限界効用が逓減。残るのはエッジケースのみ

### 4.3 仮説カテゴリ別の精度推移

仮説のカテゴリによって、学習速度と天井が異なる:

| カテゴリ | 初期的中率 | 6ヶ月後的中率 | 天井 | 学習速度 |
|---|---|---|---|---|
| **フック形式** | 20% | 55% | 70% | 速い（A/Bテストが容易） |
| **投稿時間** | 30% | 60% | 75% | 速い（定量データが明確） |
| **コンテンツ長** | 25% | 50% | 65% | 中程度（ニッチ依存） |
| **ハッシュタグ** | 15% | 45% | 60% | 中程度（トレンド変動が大きい） |
| **ナラティブ構造** | 10% | 35% | 55% | 遅い（評価が主観的） |
| **ニッチ選定** | 15% | 30% | 45% | 遅い（市場変動が大きい） |
| **プラットフォーム戦略** | 20% | 40% | 55% | 中程度（アルゴリズム変更の影響） |


## 5. 品質スコアの進化

### 5.1 コンテンツ品質メトリクス

v5.0の品質評価は以下のメトリクスで構成される:

| メトリクス | 重み | 測定方法 | 目標値 |
|---|---|---|---|
| **完視聴率** | 35% | プラットフォームAnalytics | 70%以上 |
| **エンゲージメント率** | 25% | (いいね+コメント+シェア)/Imp | 3%以上 |
| **シェア率** | 20% | シェア数/Imp | 0.5%以上 |
| **3秒離脱率** | 15% | Analytics | 40%以下 |
| **コメント感情** | 5% | NLP分析 | ポジティブ60%以上 |

### 5.2 コンポーネント別スコアリング

各コンテンツのコンポーネント（シナリオ、モーション、音声、フック、CTA等）に個別のパフォーマンススコアが付与される:

```
┌──────────────────────────────────────────────────────────┐
│                    コンテンツ品質スコア                     │
│                                                          │
│  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐        │
│  │ フック   │  │ 本編    │  │  CTA   │  │ 音声    │        │
│  │ Score:8 │  │ Score:6 │  │ Score:7 │  │ Score:9 │        │
│  └────┬───┘  └────┬───┘  └────┬───┘  └────┬───┘        │
│       │           │           │           │              │
│       └───────────┼───────────┼───────────┘              │
│                   ▼                                      │
│           加重平均スコア: 7.2/10                           │
│                   │                                      │
│  ┌────────────────┼────────────────┐                     │
│  ▼                ▼                ▼                     │
│ Score >= 7:     Score 4-6:       Score < 4:              │
│ 積極活用       改善対象         使用停止                   │
│ (replicate)   (optimize)      (deprecate)               │
│                                                          │
└──────────────────────────────────────────────────────────┘
```

### 5.3 品質スコアの月別進化予測

| 月 | 平均品質スコア | 上位25%スコア | スコア7以上の割合 | スコア4以下の割合 |
|---|---|---|---|---|
| 3月（初期） | 4.5 | 6.0 | 15% | 30% |
| 4月 | 5.2 | 6.8 | 25% | 22% |
| 5月 | 5.8 | 7.3 | 35% | 15% |
| 6月 | 6.3 | 7.8 | 45% | 10% |
| 9月 | 7.0 | 8.2 | 60% | 5% |
| 12月 | 7.5 | 8.5 | 70% | 3% |

### 5.4 低スコアコンポーネントの自動淘汰

```
品質改善のフィードバックループ:

    コンポーネント使用
         │
    パフォーマンス計測
         │
    スコア更新
         │
    ┌────┴────┐
    │         │
  高スコア  低スコア
    │         │
  優先使用  使用停止
    │         │
  パターン  代替生成
  の横展開   │
    │        └──→ 新コンポーネントで再試行
    └──→ 成功パターンの蓄積
```

**具体例**:
- フックA（質問形式）: 完視聴率78% → スコア8 → 類似フックを生成して横展開
- フックB（衝撃事実形式）: 完視聴率42% → スコア3 → 使用停止 → 代替フック生成
- CTA C（URL誘導型）: エンゲージメント率1.2% → スコア4 → 改善対象 → 表現を変えて再テスト


## 6. pgvectorの貢献

### 6.1 pgvectorの役割

v5.0では、仮説と知見にembeddingベクトル（1536次元）を付与し、類似検索を可能にする。これにより3つの重要な機能が実現される。

### 6.2 類似仮説検索

**ユースケース**: 「この仮説と似た過去の仮説の結果は？」

```sql
-- 新しい仮説のembeddingに最も近い過去の仮説を検索
SELECT h.description, h.status, h.actual_kpi, h.confidence
FROM hypotheses h
WHERE h.status IN ('confirmed', 'rejected')
ORDER BY h.embedding <=> $new_hypothesis_embedding
LIMIT 5;
```

**効果**:
- 新しい仮説を立てる前に、類似の仮説が過去に成功/失敗しているかを確認
- 的中率の低い仮説カテゴリを事前に回避
- エージェントの仮説立案の質を直接的に向上させる

**例**:

```
新仮説: 「フィットネスニッチでBefore/After 15秒動画は完視聴率75%を達成する」

類似過去仮説:
1. 「美容ニッチでBefore/After 15秒動画は完視聴率75%を達成する」→ confirmed (実績: 78%)
2. 「ダイエットニッチでBefore/After 30秒動画は完視聴率70%を達成する」→ rejected (実績: 48%)
3. 「フィットネスニッチでチュートリアル60秒動画は完視聴率65%を達成する」→ confirmed (実績: 67%)

→ Before/Afterは効果的だが、30秒だと長すぎる。15秒が最適。フィットネスも美容と類似パターンの可能性が高い。
→ 予測: confirmed（信頼度 0.7）
```

### 6.3 類似知見検索

**ユースケース**: 「このニッチで使える知見は？」

```sql
-- 特定ニッチのembeddingに近い知見を検索
SELECT l.content, l.applicability, l.confidence_score, l.usage_count
FROM learnings l
WHERE l.confidence_score > 0.5
ORDER BY l.embedding <=> $niche_embedding
LIMIT 10;
```

**効果**:
- プランナーエージェントがコンテンツ計画を立てる際に、関連する知見を自動的に参照
- ニッチを横断した知見の転用（後述）
- 新しいニッチに参入する際の「コールドスタート問題」を緩和

### 6.4 クロスニッチ知見転用

**ユースケース**: 「美容ニッチで成功したパターンをフィットネスにも適用」

```
美容ニッチの知見:
  「Before/After形式のフック + 15秒 + 朝7時投稿 → 完視聴率78%」
       ↓
  pgvector類似検索: フィットネスニッチとの類似度 = 0.82
       ↓
  フィットネスニッチに適用:
  「Before/After形式のフック + 15秒 + 朝7時投稿 → 完視聴率???」
       ↓
  結果: 完視聴率72% → confirmed（類似度の高さに比例して的中率が高い）
```

### 6.5 クロスニッチ学習の効果

| ニッチ数 | pgvectorなし(的中率) | pgvectorあり(的中率) | 改善率 |
|---|---|---|---|
| 1ニッチ | 40% | 40% | 0%（基準） |
| 3ニッチ | 40% | 48% | +20% |
| 5ニッチ | 40% | 53% | +33% |
| 10ニッチ | 40% | 58% | +45% |

ニッチが増えるほどクロスニッチ学習の効果が大きくなる。v5.0の50アカウント（複数ニッチ）運用が学習速度を加速させる構造的な理由。

### 6.6 pgvectorの限界

| 限界 | 影響 | 緩和策 |
|---|---|---|
| embedding品質はLLMに依存 | 類似度計算が不正確になる可能性 | text-embedding-3-large使用、定期的な再embedding |
| ニッチ間の「見かけの類似」 | 表面的に似ているが本質が異なる知見の誤適用 | confidence_scoreによるフィルタリング、人間レビュー |
| ベクトル空間の偏り | 特定ニッチの知見が過剰に参照される | 正規化、多様性スコアの導入 |


## 7. アルゴリズム精度が不十分な場合の対策

### 7.1 精度低迷のシナリオと対策

#### シナリオ1: 3ヶ月後に的中率25%以下

**症状**: 100件の仮説のうち25件以下しか的中しない。学習が進んでいない。

**原因分析チェックリスト**:

| チェック項目 | 確認方法 | 対策 |
|---|---|---|
| 仮説の粒度が粗すぎる | 仮説の変数数を確認 | 1仮説1変数に分割 |
| 測定期間が短すぎる | inconclusive率を確認 | 測定期間を延長（3日→7日） |
| ニッチが広すぎる | ニッチ別的中率を確認 | サブニッチに細分化 |
| リサーチデータが古い | market_intelの更新頻度を確認 | リサーチャーの頻度を増加 |
| 外部要因が支配的 | 時系列のバラつきを確認 | 外部変数をモデルに組み込む |

**具体的な対策**:

1. **リサーチャーの実行頻度を増加**: 数時間ごと → 1時間ごと。市場情報の鮮度を向上
2. **人間の仮説投入**: ダッシュボードから「この方向性で試して」という指示を投入
3. **仮説スコープの縮小**: 「美容全般」→「美容 × 20代 × TikTok × Before/After」
4. **A/Bテストモード**: 同一コンテンツで1変数のみ変えたA/Bペアを投稿

```
改善フロー（的中率25%以下）:

  仮説スコープ縮小
       │
  A/Bテスト実施（1変数のみ変更）
       │
  結果比較（統計的有意性を確認）
       │
  確認済みパターンを知見化
       │
  パターンに基づく新仮説生成
       │
  的中率の改善確認
       │
  改善なし → 人間介入（ドメインエキスパートの知識注入）
```

#### シナリオ2: 6ヶ月後に的中率35%以下

**症状**: 半年経っても大幅な改善が見られない。学習曲線が平坦化している。

**原因分析チェックリスト**:

| チェック項目 | 確認方法 | 対策 |
|---|---|---|
| 仮説カテゴリの抽象度が不適切 | カテゴリ別的中率の比較 | カテゴリ再設計 |
| ニッチ自体が不適切 | ニッチ別成長率の比較 | ニッチピボット |
| 計測頻度が不足 | データポイント数/仮説を確認 | 計測ワーカーの頻度増加 |
| 知見の再利用が不十分 | usage_countの分布を確認 | プランナーの知見参照ロジック改善 |
| プラットフォーム側の変化 | 同一パターンの時系列変化を確認 | アルゴリズム変更の検知・適応 |

**具体的な対策**:

1. **仮説カテゴリの再設計**: 現在のカテゴリが現実のパターンと合っていない可能性。データドリブンでカテゴリを再構成
2. **ニッチピボットの検討**: 的中率が特定ニッチで低い場合、そのニッチからの撤退を検討
3. **計測頻度の増加**: 6時間ごと → 2時間ごと。短期的なパフォーマンス変動を捕捉
4. **外部データソースの追加**: Google Trends API、TikTok Creative Center等を統合

### 7.2 精度改善の優先順位マトリクス

```
    改善コスト（低）                    改善コスト（高）
         │                                  │
  ┌──────┼──────────────────────────────────┤
  │      │                                  │
  │ 高   │  投稿時間の最適化     リサーチャー増設      │
  │ 影   │  ハッシュタグ改善     外部データソース追加   │
  │ 響   │  フック形式テスト     ニッチ再設計          │
  │ 度   │                                  │
  │      │  ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─│
  │      │                                  │
  │ 低   │  CTA改善            プラットフォーム戦略変更│
  │ 影   │  動画長調整          エージェントLLM変更    │
  │ 響   │  音声スタイル変更     DBスキーマ再設計      │
  │ 度   │                                  │
  └──────┴──────────────────────────────────┘

  優先順位: 左上（高影響・低コスト）→ 右上（高影響・高コスト）→ 左下 → 右下
```


## 8. アカウント数・投稿数の十分性分析

### 8.1 統計的に有意なパターン発見に必要なデータ量

アルゴリズム分析レポートの知見に基づく:

| 目的 | 必要な投稿数/ニッチ | 必要な期間 | 根拠 |
|---|---|---|---|
| 初期パターン理解 | 最低50本 | 2〜3ヶ月 | テストプール突破パターンの初期認識 |
| 統計的安定性 | 100〜200本 | 4〜7ヶ月 | ニッチ内の視聴者反応パターンの安定化 |
| 一貫した成長 | 200本以上 | 7ヶ月以上 | YouTube公式データ: 200本以上で成長開始 |

### 8.2 v5.0のデータ生成能力

| Phase | 月間稼働アカウント | 投稿数/アカウント/月 | **月間データポイント** |
|---|---|---|---|
| Phase 1-2 (2〜3月) | 30〜80 | 30 | 900〜2,400 |
| Phase 3 (4月) | 100〜200 | 30 | 3,000〜6,000 |
| Phase 4 (5月) | 300〜800 | 30 | 9,000〜24,000 |
| Phase 5 (6月) | 500〜1,500 | 30 | 15,000〜45,000 |

### 8.3 ニッチ別データ充足度

10ニッチに分散した場合のニッチあたりデータ量:

| 月 | 総データポイント | ニッチ数 | 1ニッチあたり | 統計的十分性 |
|---|---|---|---|---|
| 3月 | 2,400 | 5 | 480 | 初期パターン理解に十分 |
| 4月 | 6,000 | 8 | 750 | 統計的安定性に到達 |
| 5月 | 24,000 | 10 | 2,400 | 一貫した成長に十分 |
| 6月 | 45,000 | 10 | 4,500 | 精緻なパターン分析が可能 |

### 8.4 データ品質の考慮

データ量だけでなく、データ品質も精度に影響する:

| 品質要因 | 影響 | v5.0での対策 |
|---|---|---|
| **計測の一貫性** | 同じ基準で計測しないと比較不能 | 計測ワーカーが統一フォーマットでDB保存 |
| **ノイズの排除** | 外部イベント等の一時的影響を排除 | 外れ値検出 + 移動平均で平滑化 |
| **セグメント化** | プラットフォーム・ニッチ・時間帯の区別 | `metrics`テーブルの多次元インデックス |
| **A/Bの公平性** | 同時期・同条件でのA/B比較 | プランナーがA/Bペアを同時投稿 |

### 8.5 「50アカウント」の十分性

KPI目標の2月50アカウントは、学習のためのデータ生成基盤として十分か:

```
50アカウント × 30投稿/月 = 1,500データポイント/月
                          ÷ 5ニッチ = 300/ニッチ/月
                          × 3ヶ月 = 900/ニッチ/3ヶ月

→ 3ヶ月で900本/ニッチ = 統計的安定性(100-200本)を大幅に超過
→ データ量は十分。問題はデータ品質とバリエーション
```

**結論**: 50アカウントあれば、3ヶ月以内に各ニッチで統計的に有意なパターンを発見できる。ボトルネックはデータ量ではなく**データ品質**（計測の一貫性、A/Bテストの適切な設計）。


## 9. 成長曲線のシミュレーション

### 9.1 アルゴリズム精度の12ヶ月成長曲線

```
仮説的中率(%)
  75 |
     |
  70 |                                                    ─────── ← 天井
     |                                               ───/
  65 |                                          ────/
     |                                     ────/
  60 |                                ────/
     |                           ────/
  55 |                      ────/          ← Phase D: 成熟
     |                 ────/
  50 |            ────/
     |        ───/
  45 |     ──/                             ← Phase C: 最適化
     |   ─/
  40 |  /
     | /
  35 |/                                    ← Phase B: パターン認識
     |
  30 |
     |
  25 |──
     |  \
  20 |   ──                                ← Phase A: ランダムベースライン
     |     \
  15 |      ─
     |
  10 |
   0 +─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────
     3月    4月    5月    6月    7月    8月    9月   10月   11月   12月

     |←Phase A→|←Phase B→|←─── Phase C ───→|←──── Phase D ────→|
```

### 9.2 蓄積知見数の成長曲線

```
蓄積知見数
 600 |
     |                                                        ●
 500 |                                                    ●  /
     |                                                ●  /
 400 |                                            ●  /
     |                                        ●  /
 300 |                                    ●  /
     |                               ●   /
 200 |                          ●   /
     |                     ●   /
 100 |               ●    /
     |          ●   /
  50 |     ●   /
     |●   /
   0 +──┬──┬──┬──┬──┬──┬──┬──┬──┬──
     3月 4月 5月 6月 7月 8月 9月 10月 11月 12月

     初期は線形成長 → 6月以降は加速（複合知見の生成増加）
```

### 9.3 コンテンツ品質スコアの成長曲線

```
平均品質スコア (1-10)
  10 |
   9 |
   8 |                                              ──────── ← 目標
     |                                         ────/
   7 |                                    ────/
     |                               ────/
   6 |                          ────/
     |                     ────/
   5 |                ────/
     |           ────/
   4 |      ────/
     | ────/
   3 |/
     |
   2 |
   1 |
   0 +─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────
     3月    4月    5月    6月    7月    8月    9月   10月   11月   12月

     品質改善はアルゴリズム精度に2〜4週間遅れて追従する
```

### 9.4 総合シミュレーション --- 12ヶ月の全指標

```
┌──────────────────────────────────────────────────────────────────┐
│                      v5.0 12ヶ月シミュレーション                   │
├─────┬────────┬──────┬──────┬──────┬──────┬──────────────────────┤
│ 月  │ 的中率  │ 誤差  │ 知見数 │ 品質  │ アカ数 │ 月間Imp(千)       │
├─────┼────────┼──────┼──────┼──────┼──────┼──────────────────────┤
│ 3月 │ 20%    │ 70%  │ 8    │ 4.5  │ 75   │ 1,125              │
│ 4月 │ 30%    │ 50%  │ 30   │ 5.2  │ 150  │ 3,600              │
│ 5月 │ 40%    │ 40%  │ 75   │ 5.8  │ 550  │ 24,750             │
│ 6月 │ 48%    │ 33%  │ 150  │ 6.3  │ 1,000│ 75,000             │
│ 7月 │ 52%    │ 28%  │ 220  │ 6.8  │ 1,400│ 140,000            │
│ 8月 │ 55%    │ 25%  │ 290  │ 7.1  │ 1,800│ 216,000            │
│ 9月 │ 58%    │ 22%  │ 360  │ 7.3  │ 2,200│ 308,000            │
│10月 │ 60%    │ 20%  │ 420  │ 7.5  │ 2,600│ 416,000            │
│11月 │ 63%    │ 18%  │ 470  │ 7.7  │ 3,000│ 540,000            │
│12月 │ 65%    │ 17%  │ 520  │ 7.9  │ 3,500│ 700,000            │
├─────┴────────┴──────┴──────┴──────┴──────┴──────────────────────┤
│ 的中率: confirmed/(confirmed+rejected)                          │
│ 誤差: avg(|predicted - actual| / actual)                       │
│ 品質: 10点満点の加重平均スコア                                     │
│ Imp: 1アカウントあたりの月間平均Imp × 稼働アカウント数 × 30日       │
└──────────────────────────────────────────────────────────────────┘
```

### 9.5 楽観/悲観シナリオの比較

```
的中率(%)
  75 |
     |                                楽観
  70 |                              ──── ← 仮説品質が高い + ニッチが適切
     |                         ────/
  65 |                    ────/
     |               ────/
  60 |          ────/                    中央値
     |     ────/                 ──── ← 標準的な進行
  55 |────/                 ────/
     |                 ────/
  50 |            ────/
     |       ────/                       悲観
  45 |  ────/                    ──── ← データ品質問題 or ニッチ不適合
     |─/                   ────/
  40 |                ────/
     |           ────/
  35 |      ────/
     | ────/
  30 |/
  25 |
  20 |──
  15 |
   0 +─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────
     3月    4月    5月    6月    7月    8月    9月   10月   11月   12月

  楽観: 知見の質が高く、ニッチ選定が適切。的中率が早期に上昇
  中央値: 標準的な進行。本レポートの予測値
  悲観: データ品質問題、ニッチ不適合、外部環境の急変
```


## 10. リスクと限界

### 10.1 精度予測の不確実性

| リスク | 影響 | 緩和策 |
|---|---|---|
| **プラットフォームのアルゴリズム大幅変更** | 蓄積知見が無効化される可能性 | 知見に有効期限を設定。定期的な再検証 |
| **AIコンテンツ検出の強化** | 投稿自体が制限される可能性 | コンテンツの人間性を高める工夫。ハイブリッド戦略 |
| **ニッチの市場飽和** | 特定ニッチで成長が停滞 | ポートフォリオ分散。アナリストの早期検知 |
| **仮説の「局所最適」への陥没** | 特定パターンに固執し、新しいアプローチを試さない | 探索率（exploration rate）を10〜20%に設定 |
| **計測データの遅延** | プラットフォームAnalyticsの反映に24〜48時間 | 遅延を織り込んだサイクル設計 |

### 10.2 モデルの限界

本レポートの精度予測は以下の前提に基づいており、前提が崩れると予測も崩れる:

1. **v5.0が計画通り開発される**: Phase 1〜5が予定通り完了する前提
2. **LLMの推論能力が維持される**: Claude Opus/Sonnetの性能が低下しない前提
3. **データの質が維持される**: 計測ワーカーが正確にメトリクスを収集する前提
4. **市場環境が急変しない**: プラットフォームのポリシー大変更がない前提

### 10.3 過学習（オーバーフィッティング）のリスク

特定のニッチ・プラットフォーム・時期のデータに過剰適合するリスク:

```
正常な学習:
  一般パターン → ニッチ固有パターン → 時期に応じた微調整

過学習:
  一般パターン → 「2月のTikTok美容ニッチの火曜日17時投稿」のみに最適化
                 → 3月に環境が変わると全く機能しない
```

**対策**:
- 仮説のテストデータと訓練データを分離（20%のアカウントをテスト用に確保）
- 知見の`confidence_score`が0.8以上のものだけを横展開
- 探索率（全サイクルの10〜20%を「確認済みパターン外」の新規仮説に充当）


## 11. 結論

### v5.0アルゴリズム精度の全体像

```
┌──────────────────────────────────────────────────────────────────┐
│                                                                  │
│   月     3月   4月   5月   6月   9月   12月                       │
│          │     │     │     │     │     │                         │
│  的中率  20%   30%   40%   48%   58%   65%                       │
│          │     │     │     │     │     │                         │
│          ▼     ▼     ▼     ▼     ▼     ▼                         │
│  品質    4.5   5.2   5.8   6.3   7.3   7.9                      │
│          │     │     │     │     │     │                         │
│          ▼     ▼     ▼     ▼     ▼     ▼                         │
│  知見    8     30    75    150   360   520                       │
│                                                                  │
│  Phase:  A(ランダム) B(パターン) C(最適化)  D(成熟)                │
│                                                                  │
└──────────────────────────────────────────────────────────────────┘
```

### 要点の整理

1. **精度は段階的に向上する**: 初期20% → 6ヶ月48% → 12ヶ月65%。魔法の解決策はなく、データの蓄積と学習サイクルの繰り返しが必要

2. **天井は65〜70%**: ソーシャルメディアの不確実性により、完全な予測は不可能。65%以上は人間のエキスパートマーケターと同等のレベル

3. **pgvectorが学習を加速する**: クロスニッチの知見転用により、単一ニッチで学習するより2〜3倍速く精度が向上する

4. **品質が量を圧倒する**: 的中率50%で50本投稿するより、的中率70%で30本投稿する方が総インプレッションが高い。これはアルゴリズム分析レポートの「完視聴率70%以上」の知見と一致

5. **人間介入のレバレッジが高い**: ダッシュボードからの仮説投入や参考コンテンツ指定は、的中率を一時的に10〜15%向上させる効果がある

6. **50アカウントでデータは十分**: 50アカウント × 30投稿/月 = 1,500データポイント/月。統計的なパターン発見には十分な量

### 次のアクション

| アクション | 担当 | 時期 |
|---|---|---|
| `hypotheses`テーブルの精度集計クエリを設計 | Phase 1開発 | 3月 |
| pgvectorのembeddingモデル選定とベンチマーク | Phase 1開発 | 3月 |
| 品質スコアの重みパラメータを初期設定 | Phase 2開発 | 4月 |
| 探索率（exploration rate）の初期値を10%に設定 | Phase 3開発 | 5月 |
| 精度ダッシュボードの実装 | Phase 5開発 | 6月 |
| 過学習検知アラートの設定 | Phase 5開発 | 6月 |
